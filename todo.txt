1.有模型，能代入参数算阻抗√
1.5 搞懂那个excel里的EIS 图谱模拟怎么画的√
2.和测量值做差得Loss函数√
3.改变代入的参数来最小化Loss函数√
4.现在用的optimizer太垃圾，只在好的值附近能收敛，看看其他的optimizer√？
https://docs.scipy.org/doc/scipy/reference/optimize.html#module-scipy.optimize
5.试试其他实验数据（估计是阻抗实部大于1就舍弃？反正都试试）√没丢弃，全要也ok
6.1可以从Results里读出参数建立模型然后画对比图√
6.2主程序里也加个把plot保存成.png的一行代码，画图时改plot的title√
7.试试把workers调高（虽然边界取好了算的挺快的）√
8.试试改现在这个optimizer的模型和参数√
8.2看了exp3的结果，Loss挺低的，但是图很难看，我感觉可能loss函数要换换√
8.3好吧感觉还是bounds的问题√
8.4好吧感觉还是beta每个环节都一样限制太大了，看看能不能每个环节不一样？√
9.用户文档√？
10.用matlab求导数，然后试试导数方法？（有必要吗？）√
# 可恶！今天不小心shift+delete了！恢复软件也没整回来，什么运气......虽然桌面在系统盘确实天天读写但是这也太不走运了几kb的代码没一个完整留下来的都看不到
# 唉，记得原来的todo已经有20条了（虽然有很多是修bug），只能重写了......
# 那就把想到的列出来好了......以后放github上每天push好了......什么运气啊！20241030
11.可变beta√
12.IO.py√
13.Model可以并行运算√
14.tryAllStra和saveOnlyBestResult两个模式√
15.计算导数，三种模式√
16.filterData，滑动窗口√
16.1看看3,4,5和7两个的后面部分那挤成一坨的是什么回事，我猜是滑动窗口只处理中间的部分，前halfwindow和后halfwindow的根本没处理√
16.2貌似不止这个原因...√
16.3搞定了，那一坨是牺牲了周围战友活下来的，再杀几次就ok了√
17.DrawDiagram的bode图和derivative图√
18.计时√
18.1 百分比进度条√
19.都改完之后给所有实验数据跑一遍all stra√
19.1现在是每种策略一个文件夹，搞个每个实验数据一个文件夹的方法√
20.想想导数为什么这么差，甚至同一个实验数据不同策略里得出的实验数据的导数居然不同？√
20.1嘶，我猜是不同策略之间对data又跑了几遍filter√
20.2搞出来看了下并不是filter的锅......数据数量是一样的，但是每个数据都变了一点......检查下谁改了datas√
20.3范围缩小到了DrawCompareDiagram这个函数，因为关掉saveImgWhenProcessing就不会有这个问题了√
20.4搞定了...是modelData = np.copy(data)这行，改之前我直接用了modelData = data...那天肯定睡的不怎么好√
21.对jst-exp1用windowSize=5, threshold=0.5, filterCounts=3过滤后，明明看起来很平滑，但是画"center"导数图会有一个尖峰（"forward"和"backward"更烂）√
21.1那就直接过滤掉吧，我看了一下好像是有些实验点靠的很近，也不符合曲线的规律√
22.画图用了plt.close()在跑多进程的时候会有问题，看看怎么搞个事后画图的功能√
22.1虽然用switch_backend搞定了，但是还是写个ReadResultsAndSaveImg函数吧
23.看看为什么实验数据的导数和理论的导数差这么多，明明奈奎斯特图里看起来线条很像√
24.对数据做了一堆预处理（过滤，平滑，下采样等等...）√
25.数据量太少了......每个不同的物理系统只有一组数据，没法划分训练集训练，所以现在权重还是手调吧。以后做个GUI然后滑动一条样条曲线就好了
26.导数信息看看怎么反应实部对虚部的导数...
27.看看怎么做个超参数的优化器
28.搞来搞去结果还是就用标准的方法最Robust，效果也不错，25、26、27懒得做了√
29.自动确定bounds的范围√kind of...
30.读取数据的时候要是是excel就把每组数据读取成（例如xxx.xlsx，为xxx-1, xxx-2）
31.调用matlab来生成DRTDatas（感觉会很慢）√
32.config.ini√
33.把ui和main.py链接起来√
34.挑选等待界面的冰（佩佩，伯妮斯，芙芙桃桃扭腰舞）√
35.ringcount的那个看看数字有没有办法居中√没有办法可恶√好吧过了两个星期发现可以，而且很简单√
36.preprocess选项dialog的ui√
37.保存成.ini，打开时读取√
37.1 看看怎么存和读列表√
37.2 init的那些魔法数字替换成读config读的√
38.没选择数据不给进preprocess界面√
39.链接上main的processData函数，在函数里面更新UI的进度条√
40.冰变得有声音，试试整个视频播放器（补一个静音按钮）√
40.1 看看QFrame里面怎么塞东西√
40.2 判断装没装QMultiMedia（能不能import到）√
40.3 把上一个下一个视频的icon做了√
41.拟合结果补一个排行榜，然后再把换bode图和换算法之类的改改√
41.1 怎么在拟合方法里加了几个方法，跑了也存了，但是saveresult界面里看不到√是之前有些地方还在用Optimizer的methodList√
41.2 直接画图顺序就是排名了，第一名最先画，然后左右按钮看第二第三名√
42.冰看看怎么用其他方式来播放.mp4，.avi太占空间了√直接从pyqt5升级到pyqt6了，可喜可贺√
43.批量拟合一堆数据（不然冰就没人看了呜呜） √
43.1 绝赞debug中√
43.2 选不同层级的文件好像有时候会在改文件夹格式的时候报错√
43.3 找到问题了，改格式的函数是判断startwith()的，然后要是有个叫1的数据和1.1的数据，处理1的时候就会把1.1给搞了√
43.4 直接对dataNames按长度排序，先处理最长的√
44.冰播放完自动播放下一个√
45.result文件夹放个.bat脚本，文件开头不是"["的直接删了√Frick this...以后再做一个就变成放回收站...√搞定，放一个子文件夹里了√
46.选择文件夹的时候保证不会有重复的文件（比如我选了temp文件夹，然后又选了temp文件夹里的一个文件，现在的程序会读两次）√
47.记得看看30×, 31√
48.result界面前后数据切换按钮，不需要保存文件按钮和保存提示文本了√
49.拟合算法那里加个全选的checkbox√
50.在initializeProcessSettingsPage的时候，要是是多个数据，直接把ringcounts存成一个列表[3,3,3,...]之类的给processThread√
51.result界面加个换排序标准的combobox√
52.DRT画图√
53.program setting防意外√
54.preprocess setting防意外√
# 在快完成的时候总是要给我来一下是吧......今天测试preprocess删掉配置文件的时候能不能跑，改好之后又因为没清result文件夹报错了。
# 然后让python用os.system跑那个.bat。然后忘了跑的时候.bat的根目录就不是result文件夹而是main.py所在的地方了，除了些被占用的.py其他全删了
# 这样整每天push都没用，恼。昨天还感觉昨天一天非常productive，可恶！从40.之后开始检查吧20241124
55.重写检查完毕，浪费3个半小时√
56.检查DRT Tool的flag来等它执行完√
57.感觉差不多了。清理下东西然后看看怎么打包√，还有用户文档。
58.auto-py-to-exe，你是我的神！√√√√√√√√√√√
59.在processSetting里面搞个切换数据的按钮√
60.评价加一个对原数据作interpolate之后再找对曲线的最近距离的MSE的标准
60.1 不好搞...以后再说
60.2 资料https://stackoverflow.com/questions/67490884/distance-between-a-point-and-a-curve-in-python
61.methodTable看看能不能加几个合并单元格的简单分类（快算法，慢算法，垃圾算法）√
62.QTreeView有个部分不好解决，点击空位置取消选中文件的时候既不是clicked也不是pressed，不知道该怎么更新...
62.1可以每100ms刷新一次，但是感觉很烂的解决方案
63.methodTable小节也能直接选一节√
64.可以让dataProcessingThread再spawn一堆thread来多线程（程序设置加个选项）
65.程序设置再加是否对已存在的DRT数据再跑一次√，和一些默认选项之类的，比如result的排序标准，process setting的默认选的方法组
66.跑shgo感觉有内存泄漏，不仅跑不出结果还会一直申请内存，不知道是我的问题还是lmfit的问题（反正不可能是scipy的问题，吧），先ban了√
67.datas之类的按dataNames字典序排√
68.process setting加个选物理模型画电路图的功能√
69.可拖拽的模块化电路图
69.1 69,nice√
69.2 也许不拖拽，直接让旁边的模型为“模型名字，换行为电路图”的按钮，看看拖拽好不好实现了
70.可以从model文件夹的xxx.txt里parse一个模型的公式√
70.1好吧直接让用户写python了，虽然不安全但是功能更强了应该没事吧，吧。√
71.对没有提供derivative的模型采用数值解法
# 在11.28发了v1.0之后放了个小假，现在12.8开始写，2小时搞定了program setting，still have it in me~
72.模型先定义自己用多少个什么类型的参数，比如{'R':1, 'C':1, 'beta':1}，然后总电路就对着这些来编号√应该能行等测试√
73.bug：多个文件跑的时候和单个文件跑的时候拟合结果不一样（比如取值范围等等）√解决，是populate的方法里面只append忘记先清零了
74.新模型结构设计好了，好像不需要paraFormat了，但是很多东西需要改，而且parameters里面要按varmaps来排序了√貌似摘干净了？
74.1可恶IO还藏了好多paraFormat，至少optimizer跑起来了√
75.界面做好了，要改thread里面的curvefit调用，UIMain的boundType表和给thread新model的定义，optimizer改residule的定义和parameters的生成√
76.怎么相同组件拟合出来的值这么像呢，model计算的阻抗检查过了没问题√
76.1看起来好像所有参数用的bound都是第一个参数的bound√
76.2InitParameter的时候boundIndex没有+=1......√
77.将前辈的DRT计算整合进去√
78.实现电路的readini和writeini的功能√
79.电路编辑器清空组件按钮√
80.boundType表根据BoundType改表头，表头默认为空√
81.电路编辑器的保存电路逻辑还是很乱，之后再改（现在除了新建的没点保存的电路全都存）（也就是旧电路做了修改都会存）√终于想明白结构，我存的是电路原型，关我送给主程序的电路什么事
82.编辑时把主界面的按钮禁用，然后在初始化的时候把电路编辑器的按钮也连接上主界面的，这样就不用currentIndex了，直接让主界面发signal×我有更大胆的想法
83.然后要确保编辑器的circuits长度和主程序的datas长度一一对应，在点换页按钮的时候像readData页一样做个检查√
# 现在看上面71和72中间那一行哭笑不得，可恶！命名的重要性
84.让ringCount限制电路能选的模块数，在模块里定义占几个ringCount
85.可以看看69(nice)和71挖的坑（虽然71我本来也用不上导数）
86.看看components.py能不能外置
87.readData后面加个Preprocess页，滑块控制参数，实时显示处理后的数据




∞.开始界面UI√
∞+1.读取数据界面UI√
∞+2.拟合选项界面UI√
∞+3.拟合结果UI√